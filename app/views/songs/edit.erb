<h1>Edit <%= @song.name %></h1>
<form method="POST" action="/songs/<%= @song.slug %>">
    <input type="hidden" name="_method" value="PATCH">
    <label for="name">Name</label>
    <input type="text" name="song[name]" id="name" value="<%= @song.name %>">
    <br>
    <h3>Artist: <%= @song.artist.name %> </h3>
    <label for="artist_name">Artist Name</label>
    <input type="text" name="artist[name]" id="artist_name" value="<%= @song.artist.name %>">
    <br>
    <label>Genres</label>
    <% Genre.all.each do |genre| %>
        <label for="<%= genre.name %>"><%= genre.name %></label>
        <input id="<%= genre.name %>" type="checkbox" name="genres[]" value="<%= genre.id %>" <%='checked' if @song.genres.include?(genre) %>>
        <br>  
    <% end %>
    <br></br>
    <input type="submit" value="Save">
</form>

<% if flash.has?(:message) %>
  <%= flash[:message] %>
<% end %>